<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Quản lý Sinh Viên</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
    body {
        font-family: Arial, sans-serif;
        background: #f4f6f8;
        margin: 0;
        padding: 30px;
    }

    h1 {
        text-align: center;
    }

    .container {
        max-width: 900px;
        margin: auto;
        background: white;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    }

    input {
        padding: 8px;
        margin: 5px;
        width: 18%;
    }

    button {
        padding: 8px 12px;
        margin: 5px;
        cursor: pointer;
    }

    table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 20px;
    }

    th, td {
        border: 1px solid #ddd;
        padding: 8px;
        text-align: center;
    }

    th {
        background: #f0f0f0;
    }

    .action-btn {
        padding: 4px 8px;
        margin: 2px;
        cursor: pointer;
    }
</style>
</head>

<body>

<div class="container">
    <h1>Quản Lý Sinh Viên</h1>

    <div>
        <input type="text" id="masv" placeholder="Mã SV">
        <input type="text" id="hoten" placeholder="Họ và tên">
        <input type="date" id="ngaysinh">
        <input type="text" id="lop" placeholder="Lớp">
        <input type="number" step="0.01" id="gpa" placeholder="GPA">
        <button onclick="addStudent()">Thêm</button>
    </div>

    <table>
        <thead>
            <tr>
                <th>Mã SV</th>
                <th>Họ và tên</th>
                <th>Ngày sinh</th>
                <th>Lớp</th>
                <th>GPA</th>
                <th>Hành động</th>
            </tr>
        </thead>
        <tbody id="studentTable">
        </tbody>
    </table>
</div>

<script>
class Student {
    constructor(masv, hoten, ngaysinh, lop, gpa) {
        this.masv = masv;
        this.hoten = hoten;
        this.ngaysinh = ngaysinh;
        this.lop = lop;
        this.gpa = gpa;
    }

    updateInfo(hoten, ngaysinh, lop, gpa) {
        this.hoten = hoten;
        this.ngaysinh = ngaysinh;
        this.lop = lop;
        this.gpa = gpa;
    }
}

let students = [];
let editingIndex = -1;

function addStudent() {
    const masv = document.getElementById("masv").value;
    const hoten = document.getElementById("hoten").value;
    const ngaysinh = document.getElementById("ngaysinh").value;
    const lop = document.getElementById("lop").value;
    const gpa = document.getElementById("gpa").value;

    if (!masv || !hoten || !ngaysinh || !lop || !gpa) {
        alert("Vui lòng nhập đầy đủ thông tin!");
        return;
    }

    if (editingIndex === -1) {
        const student = new Student(masv, hoten, ngaysinh, lop, gpa);
        students.push(student);
    } else {
        students[editingIndex].updateInfo(hoten, ngaysinh, lop, gpa);
        editingIndex = -1;
    }

    clearForm();
    displayStudents();
}

function displayStudents() {
    const table = document.getElementById("studentTable");
    table.innerHTML = "";

    students.forEach((student, index) => {
        table.innerHTML += `
            <tr>
                <td>${student.masv}</td>
                <td>${student.hoten}</td>
                <td>${student.ngaysinh}</td>
                <td>${student.lop}</td>
                <td>${student.gpa}</td>
                <td>
                    <button class="action-btn" onclick="editStudent(${index})">Sửa</button>
                    <button class="action-btn" onclick="deleteStudent(${index})">Xóa</button>
                </td>
            </tr>
        `;
    });
}

function editStudent(index) {
    const student = students[index];

    document.getElementById("masv").value = student.masv;
    document.getElementById("hoten").value = student.hoten;
    document.getElementById("ngaysinh").value = student.ngaysinh;
    document.getElementById("lop").value = student.lop;
    document.getElementById("gpa").value = student.gpa;

    editingIndex = index;
}

function deleteStudent(index) {
    students.splice(index, 1);
    displayStudents();
}

function clearForm() {
    document.getElementById("masv").value = "";
    document.getElementById("hoten").value = "";
    document.getElementById("ngaysinh").value = "";
    document.getElementById("lop").value = "";
    document.getElementById("gpa").value = "";
}
</script>

</body>
</html>
